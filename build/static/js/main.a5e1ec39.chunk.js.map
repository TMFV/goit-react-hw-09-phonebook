{"version":3,"sources":["redux/app/app-reducer.js","redux/auth/auth-reducers.js","redux/store.js","components/AuthNav.js","redux/auth/auth-selectors.js","components/UserMenu.js","components/Navigation.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-actions.js","redux/app/app-operations.js","redux/app/app-actions.js"],"names":["contacts","createReducer","actions","fetchContactSuccess","_","payload","addContactSuccess","state","operations","addContact","type","map","cur","name","includes","alert","deleteContactSuccess","types","newArrAfterDel","filter","elem","id","loading","addContactRequest","addContactError","deleteContactRequest","deleteContactError","fetchContactRequest","fetchContactError","filters","filterSet","combineReducers","initialUserState","email","user","authActions","registerSuccess","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","setError","error","registerError","loginError","logoutError","getCurrentUserError","isAuthenticated","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","app","appReducer","auth","persistReducer","authReducer","devTools","process","persistor","persistStore","styles","link","display","margin","color","activeLink","AuthNav","style","to","exact","activeStyle","Button","variant","height","marginLeft","container","alignItems","mail","marginRight","fontWeight","mapDispatchToProps","onLogout","authOperations","logOut","connect","authSelectors","onClick","textDecoration","padding","header","justifyContent","borderBottom","PrivateRoute","children","redirectTo","routeProps","isLoggedIn","useSelector","PublicRoute","restricted","shouldRedirect","HomeView","lazy","LoginView","RegisterView","ContactsView","mapDispatchToProrps","onGetCurrentUser","getCurrentUser","useEffect","className","fallback","path","component","ReactDOM","render","StrictMode","document","getElementById","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","registerRequest","post","response","data","message","logoutRequest","logIn","loginRequest","getState","persistedToken","getCurrentUserRequest","get","createAction","fetchContacts","contact","then","catch","deleteContact","contactId","delete"],"mappings":"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","file":"static/js/main.a5e1ec39.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport actions from \"./app-actions\";\nimport operations from \"./app-operations\";\n\nconst contacts = createReducer([], {\n  [actions.fetchContactSuccess]: (_, { payload }) => payload,\n  [actions.addContactSuccess]: (state, { payload }) => [...state, payload],\n\n  [operations.addContact]: (state, { type, payload }) => {\n    let nameArray = state.map((cur) => cur.name);\n    if (!nameArray.includes(payload.name)) {\n      return [...state, payload];\n    } else {\n      alert(\" Контакт вже є у телефонній книзі!!!\");\n      return state;\n    }\n  },\n  [actions.deleteContactSuccess]: (state, { types, payload }) => {\n    let newArrAfterDel = state.filter((elem) => elem.id !== payload);\n    return [...newArrAfterDel];\n  },\n});\n\nconst loading = createReducer(false, {\n  [actions.addContactRequest]: () => true,\n  [actions.addContactSuccess]: () => false,\n  [actions.addContactError]: () => false,\n  [actions.deleteContactRequest]: () => true,\n  [actions.deleteContactSuccess]: () => false,\n  [actions.deleteContactError]: () => false,\n  [actions.fetchContactRequest]: () => true,\n  [actions.fetchContactSuccess]: () => false,\n  [actions.fetchContactError]: () => false,\n});\n\nconst filters = createReducer(\"\", {\n  [actions.filterSet]: (state, { payload }) => {\n    return payload;\n  },\n});\n\nexport default combineReducers({ contacts, filters, loading });\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport authActions from \"./auth-actions\";\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [authActions.registerError]: setError,\n  [authActions.loginError]: setError,\n  [authActions.logoutError]: setError,\n  [authActions.getCurrentUserError]: setError,\n});\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.logoutError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n});\n\nexport default combineReducers({\n  user,\n  token,\n  isAuthenticated,\n  error,\n});\n","//import { combineReducers } from \"redux\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport logger from \"redux-logger\";\nimport storage from \"redux-persist/lib/storage\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n\nimport appReducer from \"./app/app-reducer\";\nimport authReducer from \"./auth/auth-reducers\";\n\n//console.log(getDefaultMiddleware());\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\nconst store = configureStore({\n  reducer: {\n    app: appReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nconst persistor = persistStore(store);\nexport default { store, persistor };\n","import { NavLink } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = {\n  link: {\n    display: \"block\",\n    margin: 5,\n    color: \"white\",\n  },\n  activeLink: {\n    margin: 5,\n    display: \"block\",\n    color: \"red\",\n  },\n};\n\nconst AuthNav = () => (\n  <div style={{ display: \"flex\" }}>\n    <NavLink\n      to=\"/register\"\n      exact\n      style={styles.link}\n      activeStyle={styles.activeLink}\n    >\n      <Button\n        type=\"button\"\n        variant=\"contained\"\n        color=\"primary\"\n        style={{ height: 30 }}\n      >\n        Registration\n      </Button>\n    </NavLink>\n    <NavLink\n      to=\"/login\"\n      exact\n      style={styles.link}\n      activeStyle={styles.activeLink}\n    >\n      <Button\n        style={{ marginLeft: 15, height: 30 }}\n        type=\"button\"\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        Login\n      </Button>\n    </NavLink>\n  </div>\n);\n\nexport default AuthNav;\n","//export default authSelectors;\nconst isAuthenticated = (state) => state.auth.isAuthenticated;\nconst userName = (state) => state.auth.user.name;\nconst userMail = (state) => state.auth.user.email;\n\nexport default {\n  isAuthenticated,\n  userName,\n  userMail,\n};\n","import { connect } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\nimport authOperations from \"../redux/auth/auth-operations\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  mail: {\n    marginRight: 10,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 20,\n  },\n};\n\nconst UserMenu = ({ mail, name, onLogout }) => (\n  <div style={styles.container}>\n    <span style={styles.mail}>User e-mail: {mail}</span>\n    <span style={styles.name}>User name: {name}</span>\n    <Button\n      type=\"button\"\n      onClick={onLogout}\n      variant=\"contained\"\n      color=\"primary\"\n    >\n      Logout 🟥\n    </Button>\n  </div>\n);\n\nconst mapStateToProps = (state) => ({\n  name: authSelectors.userName(state),\n  mail: authSelectors.userMail(state),\n});\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 12,\n    fontWeight: 700,\n    color: \"#2A363B\",\n  },\n  activeLink: {\n    color: \"#E84A5F\",\n  },\n};\n\nconst Navigation = ({ isAuthenticated }) => (\n  <nav>\n    <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n      Home\n    </NavLink>\n    {isAuthenticated && (\n      <NavLink\n        to=\"/contacts\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Contacts\n      </NavLink>\n    )}\n  </nav>\n);\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: authSelectors.isAuthenticated(state),\n});\n\nexport default connect(mapStateToProps)(Navigation);\n","import AuthNav from \"./AuthNav\";\nimport UserMenu from \"./UserMenu\";\nimport Navigation from \"./Navigation\";\nimport { connect } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nconst styles = {\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderBottom: \"1px solid #2A363B\",\n  },\n};\n\nconst AppBar = ({ isAuthenticated }) => (\n  <header style={styles.header}>\n    <Navigation />\n    {isAuthenticated ? <UserMenu /> : <AuthNav />}\n  </header>\n);\nconst mapStateToProps = (state) => ({\n  isAuthenticated: authSelectors.isAuthenticated(state),\n});\nexport default connect(mapStateToProps)(AppBar);\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\n/**\n * 1. Он должен повторять API Route\n *  2. Он должен рендерить Route\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\n * - В противном случае рендерит Redirect на redirectTo\n */\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.isAuthenticated);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\n/**\n * - Если маршрут ограниченный, и юзер залогинен, рендерит редирект на redirectTo\n * - В противном случае рендерит компонент\n *\n */\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.isAuthenticated);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import React, { useEffect, Suspense, lazy } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport AppBar from \"./components/AppBar\";\nimport authOperations from \"./redux/auth/auth-operations\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst ContactsView = lazy(() => import(\"./views/ContactsView\"));\n\nfunction App({ onGetCurrentUser }) {\n  useEffect(() => {\n    onGetCurrentUser();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <AppBar />\n      <Suspense fallback={<p>Loading...</p>}>\n        <Switch>\n          <Route exact path=\"/\" component={HomeView} />\n          <PublicRoute path=\"/register\" redirectTo=\"/contacts\" restricted>\n            <Route path=\"/register\" component={RegisterView} />\n          </PublicRoute>\n          <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n            <Route path=\"/login\" component={LoginView} />\n          </PublicRoute>\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <Route path=\"/contacts\" component={ContactsView} />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </div>\n  );\n}\n\nconst mapDispatchToProrps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProrps)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import axios from \"axios\";\nimport authActions from \"./auth-actions\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = (credentials) => async (dispatch) => {\n  dispatch(authActions.registerRequest());\n\n  try {\n    const response = await axios.post(\"/users/signup\", credentials);\n    dispatch(authActions.registerSuccess(response.data));\n    token.set(response.data.token);\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\nconst logIn = (credentials) => async (dispatch) => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const response = await axios.post(\"/users/login\", credentials);\n    dispatch(authActions.loginSuccess(response.data));\n    token.set(response.data.token);\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\nconst logOut = () => async (dispatch) => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post(\"/users/logout\");\n    dispatch(authActions.logoutSuccess());\n    token.unset();\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n  //state.auth.token\n  if (!persistedToken) {\n    return;\n  }\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get(\"/users/current\");\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\nexport default { register, logOut, logIn, getCurrentUser };\n","import { createAction } from \"@reduxjs/toolkit\";\n\nconst registerRequest = createAction(\"auth/registerRequest\");\nconst registerSuccess = createAction(\"auth/registerSuccess\");\nconst registerError = createAction(\"auth/registerError\");\n\nconst loginRequest = createAction(\"auth/loginRequest\");\nconst loginSuccess = createAction(\"auth/loginSuccess\");\nconst loginError = createAction(\"auth/loginError\");\n\nconst logoutRequest = createAction(\"auth/logoutRequest\");\nconst logoutSuccess = createAction(\"auth/logoutSuccess\");\nconst logoutError = createAction(\"auth/logoutError\");\n\nconst getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\nconst getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\nconst getCurrentUserError = createAction(\"auth/getCurrentUserError\");\n\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","import axios from \"axios\";\nimport actions from \"./app-actions\";\n\n//ASYNC Version\nconst fetchContacts = () => async (dispatch) => {\n  dispatch(actions.fetchContactRequest());\n  try {\n    const { data } = await axios.get(\"/contacts\");\n    dispatch(actions.fetchContactSuccess(data));\n  } catch (error) {\n    dispatch(actions.deleteContactError(error.message));\n  }\n};\nconst addContact = (contact) => (dispatch) => {\n  dispatch(actions.addContactRequest());\n\n  axios\n    .post(\"/contacts\", contact)\n    .then(({ data }) => dispatch(actions.addContactSuccess(data)))\n    .catch((error) => dispatch(actions.addContactError(error.message)));\n};\n\nconst deleteContact = (contactId) => (dispatch) => {\n  dispatch(actions.deleteContactRequest());\n  axios\n    .delete(`/contacts/${contactId}`)\n    .then(() => dispatch(actions.deleteContactSuccess(contactId)))\n    .catch((error) => dispatch(actions.deleteContactError(error.message)));\n};\n\nexport default {\n  fetchContacts,\n  addContact,\n  deleteContact,\n};\n","import { createAction } from \"@reduxjs/toolkit\";\n\nconst addContactRequest = createAction(\"contacts/addContactRequest\");\nconst addContactSuccess = createAction(\"contacts/addContactSuccess\");\nconst addContactError = createAction(\"contacts/addContactError\");\n\nconst deleteContactRequest = createAction(\"contacts/deleteContactRequest\");\nconst deleteContactSuccess = createAction(\"contacts/deleteContactSuccess\");\nconst deleteContactError = createAction(\"contacts/deleteContactError\");\n\nconst fetchContactRequest = createAction(\"contacts/fetchContactRequest\");\nconst fetchContactSuccess = createAction(\"contacts/fetchContactSuccess\");\nconst fetchContactError = createAction(\"contacts/fetchContactError\");\n\nconst filterSet = createAction(\"app/setFilterArr\");\n\nexport default {\n  filterSet,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n};\n"],"sourceRoot":""}